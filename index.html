<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Altunga E Spor Merkezi</title>
  <style>
    body {
      font-family: sans-serif;
      margin: 0;
      padding: 0;
      background: #f5f5f5;
      color: #333;
    }

    header {
      background: #6b6e73;
      color: #fff;
      padding: 20px;
      text-align: center;
    }

    header img {
      max-height: 100px;
      display: block;
      margin: 0 auto 10px auto;
    }

    header h1 {
      margin: 0;
      font-size: 24px;
    }

    .menu-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
      gap: 15px;
      padding: 20px;
    }

    .menu-item {
      background: #fff;
      padding: 20px;
      text-align: center;
      border-radius: 10px;
      box-shadow: 0 2px 5px rgba(0,0,0,0.1);
      cursor: pointer;
      transition: 0.3s;
    }

    .menu-item:hover {
      background: #ddd;
    }

    .menu-content {
      display: none;
      padding: 20px;
      background: #fff;
      margin: 0 20px 20px 20px;
      border-radius: 10px;
      box-shadow: 0 2px 5px rgba(0,0,0,0.1);
    }

    .menu-content.active {
      display: block;
    }

    .menu-buttons-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
      gap: 10px;
      margin-top: 10px;
    }

    .menu-buttons-grid button {
      padding: 10px;
      font-size: 16px;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      background-color: #f0f0f0;
      transition: 0.3s;
    }

    .menu-buttons-grid button:hover {
      background-color: #ddd;
    }

    .buttons {
      margin-top: 20px;
      display: flex;
      gap: 10px;
      justify-content: center;
    }

    .buttons button {
      padding: 10px 20px;
      font-size: 16px;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      background-color: #007bff;
      color: white;
      transition: 0.3s;
    }

    .buttons button:hover {
      background-color: #0056b3;
    }

    .cart-box {
      display: none;
      position: fixed;
      bottom: 80px;
      right: 20px;
      background: white;
      padding: 15px;
      border-radius: 10px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.2);
      z-index: 1000;
      max-width: 280px;
    }

    .cart-box h3 {
      margin-top: 0;
      font-size: 18px;
    }

    .cart-box ul {
      padding-left: 0;
      margin: 0;
      list-style: none;
    }

    .cart-box li {
      font-size: 14px;
      margin-bottom: 5px;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .cart-box .empty {
      font-style: italic;
      color: #888;
    }

    .cart-total {
      margin-top: 10px;
      font-weight: bold;
      text-align: right;
    }

    .clear-cart {
      margin-top: 10px;
      background: #dc3545;
      color: white;
      border: none;
      border-radius: 8px;
      padding: 5px 10px;
      cursor: pointer;
      font-size: 14px;
      width: 100%;
    }

    .clear-cart:hover {
      background: #a71d2a;
    }

    .remove-btn {
      background: none;
      border: none;
      color: #c00;
      font-size: 16px;
      cursor: pointer;
    }

    .remove-btn:hover {
      color: #800;
    }

    .toggle-cart {
      position: fixed;
      bottom: 20px;
      right: 20px;
      z-index: 1100;
      background: #dc3545;
      color: white;
      padding: 12px 18px;
      border-radius: 50px;
      font-size: 16px;
      border: none;
      box-shadow: 0 2px 5px rgba(0,0,0,0.2);
    }

    .toggle-cart:hover {
      background: #c82333;
    }
  </style>
</head>
<div id="masaPopup" style="display:none; position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.5); z-index:2000; align-items:center; justify-content:center;">
  <div style="background:white; padding:20px; border-radius:10px; width:90%; max-width:400px; text-align:center;">
    <h2>Masa ve Oda Bilgisi</h2>
    <p>L√ºtfen <strong>masa</strong> veya <strong>oda</strong> numaranƒ±zdan en az birini girin:</p>
    <input type="text" id="masaInput" placeholder="Masa No (√∂rn:H√ºma 3)" style="padding:10px; width:90%; font-size:16px; margin-bottom:10px;" />
    <br />
    <input type="text" id="odaInput" placeholder="Oda No (√∂rn: Vip 2)" style="padding:10px; width:90%; font-size:16px; margin-bottom:10px;" />
    <br />
    <button onclick="gonderSiparis()" style="padding:10px 20px; background:#007bff; color:white; border:none; border-radius:8px; font-size:16px;">G√∂nder</button>
    <button onclick="kapatPopup()" style="padding:10px 20px; margin-left:10px; background:#ccc; border:none; border-radius:8px; font-size:16px;">ƒ∞ptal</button>
  </div>
</div>

<body>

  <header>
    <img src="logo.png" alt="Altunga Logo" />
    <h1>Altunga E Spor Merkezi</h1>
  </header>

  <div class="menu-grid">
    <div class="menu-item" onclick="showMenu('icecekler')">
      <img src="icecekler.png" style="width: 50%; height: auto; margin-bottom: 10px;" />
      <h2>ƒ∞√ßecekler</h2>
    </div>
    <div class="menu-item" onclick="showMenu('tost')">
      <img src="tost.png" style="width: 100%; height: auto; margin-bottom: 10px;" />
      <h2>Tost</h2>
    </div>
    <div class="menu-item" onclick="showMenu('doner')">
      <img src="doner.png" style="width: 100%; height: auto; margin-bottom: 10px;" />
      <h2>D√∂ner</h2>
    </div>
    <div class="menu-item" onclick="showMenu('hamburger')">
      <img src="hamburger.png" style="width: 100%; height: auto; margin-bottom: 10px;" />
      <h2>Hamburger</h2>
    </div>
  </div>

  <!-- Men√º i√ßerikleri -->
  <div id="icecekler" class="menu-content">
    <h2>ƒ∞√ßecekler</h2>
    <div class="menu-buttons-grid">
      <button onclick="sepeteEkle('Kola', 25)">Kola - 25 TL</button>
      <button onclick="sepeteEkle('Ayran', 20)">Ayran - 20 TL</button>
      <button onclick="sepeteEkle('Su', 10)">Su - 10 TL</button>
      <button onclick="sepeteEkle('Ice Tea', 25)">Ice Tea - 25 TL</button>
    </div>
    <div class="buttons">
      <button onclick="siparisVer()">Sipari≈ü Ver</button>
      <button onclick="gorevliCagir()">G√∂revli √áaƒüƒ±r</button>
    </div>
  </div>

  <div id="tost" class="menu-content">
    <h2>Tost</h2>
    <div class="menu-buttons-grid">
      <button onclick="sepeteEkle('Ka≈üarlƒ± Tost', 35)">Ka≈üarlƒ± Tost - 35 TL</button>
      <button onclick="sepeteEkle('Karƒ±≈üƒ±k Tost', 45)">Karƒ±≈üƒ±k Tost - 45 TL</button>
    </div>
    <div class="buttons">
      <button onclick="siparisVer()">Sipari≈ü Ver</button>
      <button onclick="gorevliCagir()">G√∂revli √áaƒüƒ±r</button>
    </div>
  </div>

  <div id="doner" class="menu-content">
    <h2>D√∂ner</h2>
    <div class="menu-buttons-grid">
      <button onclick="sepeteEkle('Et D√∂ner', 70)">Et D√∂ner - 70 TL</button>
      <button onclick="sepeteEkle('Tavuk D√∂ner', 50)">Tavuk D√∂ner - 50 TL</button>
    </div>
    <div class="buttons">
      <button onclick="siparisVer()">Sipari≈ü Ver</button>
      <button onclick="gorevliCagir()">G√∂revli √áaƒüƒ±r</button>
    </div>
  </div>

  <div id="hamburger" class="menu-content">
    <h2>Hamburger</h2>
    <div class="menu-buttons-grid">
      <button onclick="sepeteEkle('Klasik Burger', 60)">Klasik Burger - 60 TL</button>
      <button onclick="sepeteEkle('Cheeseburger', 65)">Cheeseburger - 65 TL</button>
      <button onclick="sepeteEkle('Double Burger', 75)">Double Burger - 75 TL</button>
    </div>
    <div class="buttons">
      <button onclick="siparisVer()">Sipari≈ü Ver</button>
      <button onclick="gorevliCagir()">G√∂revli √áaƒüƒ±r</button>
    </div>
  </div>

  <!-- Sepet -->
  <div class="cart-box" id="cartBox">
    <h3>Sepet</h3>
    <ul id="cart-list">
      <li class="empty">Sepetiniz bo≈ü</li>
    </ul>
    <div class="cart-total" id="cart-total">Toplam: 0 TL</div>
    <button class="clear-cart" onclick="sepetiTemizle()">Sepeti Temizle</button>
  </div>

  <!-- Sepet a√ß/kapa butonu -->
  <button class="toggle-cart" onclick="toggleCart()">üõí Sepet</button>

  <script>
    const sepet = [];

    function showMenu(id) {
      const contents = document.querySelectorAll('.menu-content');
      contents.forEach(c => c.classList.remove('active'));
      document.getElementById(id).classList.add('active');
      window.scrollTo({ top: document.getElementById(id).offsetTop - 10, behavior: 'smooth' });
    }

    function sepeteEkle(ad, fiyat) {
      sepet.push({ ad, fiyat });
      guncelleSepet();
    }

    function sepettenCikar(index) {
      sepet.splice(index, 1);
      guncelleSepet();
    }

    function sepetiTemizle() {
      sepet.length = 0;
      guncelleSepet();
    }

    function guncelleSepet() {
      const list = document.getElementById('cart-list');
      const totalEl = document.getElementById('cart-total');
      list.innerHTML = '';
      if (sepet.length === 0) {
        list.innerHTML = '<li class="empty">Sepetiniz bo≈ü</li>';
        totalEl.textContent = 'Toplam: 0 TL';
        return;
      }

      let toplam = 0;
      sepet.forEach((item, i) => {
        toplam += item.fiyat;
        const li = document.createElement('li');
        li.innerHTML = `${item.ad} - ${item.fiyat} TL <button class="remove-btn" onclick="sepettenCikar(${i})">‚ùå</button>`;
        list.appendChild(li);
      });

      totalEl.textContent = `Toplam: ${toplam} TL`;
    }

    function siparisVer() {
      if (sepet.length === 0) {
        alert("Sepet bo≈ü! √ñnce √ºr√ºn se√ß.");
        return;
      }
	  // Google Sheets'e log g√∂nder
fetch("https://script.google.com/macros/s/AKfycbxYFXLrgciWlvyVrT40Os7QjKpVZ1i3_pGC2jo1pNpznuzBv2tkxrukZa1R1BZ4H5Jdww/exec", {
  method: "POST",
  headers: {
    "Content-Type": "application/json"
  },
  body: JSON.stringify({
    urunler: sepet.map(item => item.ad).join(', '),
    toplam: sepet.reduce((acc, item) => acc + item.fiyat, 0),
    zaman: new Date().toLocaleString(),
    cihaz: navigator.userAgent
  })
});

      let toplam = sepet.reduce((acc, item) => acc + item.fiyat, 0);
      const urunler = sepet.map(item => `- ${item.ad} (${item.fiyat} TL)`).join("\n");
      const message = `Merhaba, a≈üaƒüƒ±daki √ºr√ºnleri sipari≈ü etmek istiyorum:\n\n${urunler}\n\nToplam: ${toplam} TL`;
      const phone = "905312691511";
      window.open(`https://wa.me/${phone}?text=${encodeURIComponent(message)}`, '_blank');
    }

    function gorevliCagir() {
      const message = encodeURIComponent("Merhaba, masama g√∂revli √ßaƒüƒ±rmak istiyorum.");
      const phone = "905312691511";
      window.open(`https://wa.me/${phone}?text=${message}`, '_blank');
    }

    function toggleCart() {
      const cartBox = document.getElementById('cartBox');
      cartBox.style.display = cartBox.style.display === 'block' ? 'none' : 'block';
    }
	
let masaNumarasi = "";
let odaNumarasi = "";

function siparisVer() {
  if (sepet.length === 0) {
    alert("Sepet bo≈ü! √ñnce √ºr√ºn se√ß.");
    return;
  }
  document.getElementById('masaPopup').style.display = 'flex';
}

function kapatPopup() {
  document.getElementById('masaPopup').style.display = 'none';
  document.getElementById('masaInput').value = "";
  document.getElementById('odaInput').value = "";
}

function gonderSiparis() {
  const masa = document.getElementById('masaInput').value.trim();
  const oda = document.getElementById('odaInput').value.trim();

  if (!masa && !oda) {
    alert("L√ºtfen masa veya oda numarasƒ±ndan en az birini girin!");
    return;
  }

  masaNumarasi = masa;
  odaNumarasi = oda;
  document.getElementById('masaPopup').style.display = 'none';

  const toplam = sepet.reduce((acc, item) => acc + item.fiyat, 0);
  const urunler = sepet.map(item => `- ${item.ad} (${item.fiyat} TL)`).join("\n");

  let konumBilgisi = "";
  if (masa) konumBilgisi += `Masa No: ${masa}`;
  if (oda) konumBilgisi += (konumBilgisi ? " / " : "") + `Oda No: ${oda}`;

  // Google Sheets log
  fetch("https://script.google.com/macros/s/AKfycbxYFXLrgciWlvyVrT40Os7QjKpVZ1i3_pGC2jo1pNpznuzBv2tkxrukZa1R1BZ4H5Jdww/exec", {
    method: "POST",
    headers: { "Content-Type": "application/json" },
    body: JSON.stringify({
      urunler: sepet.map(item => item.ad).join(', '),
      toplam: toplam,
      masa: masa,
      oda: oda,
      zaman: new Date().toLocaleString(),
      cihaz: navigator.userAgent
    })
  });

  const message = `Merhaba, a≈üaƒüƒ±daki √ºr√ºnleri sipari≈ü etmek istiyorum:\n\n${urunler}\n\nToplam: ${toplam} TL\n${konumBilgisi}`;
  const phone = "905312691511";
  window.open(`https://wa.me/${phone}?text=${encodeURIComponent(message)}`, '_blank');

  sepetiTemizle();
}



  </script>

</body>
</html>
